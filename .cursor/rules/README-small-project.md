# 中小型项目规约快速启动指南

> **适用范围**: 3-5人团队，3-6个月周期，预算<100万的软件开发项目

最近更新: 2025-01-27

## 快速导航

- [必需规约](#必需规约6个) - 核心规范，必须遵循
- [技术栈规约](#技术栈规约按需1-2个) - 根据项目技术栈选择
- [推荐规约](#推荐规约2-3个) - 建议使用
- [可选规约](#可选规约按需) - 根据项目需要
- [快速启动](#快速启动day-1) - 第一天就能上手

---

## 必需规约（6个）

### 1. `must.mdc` - 基本合规规则
**用途**: 确保项目基本质量底线  
**阅读时间**: 10分钟  
**核心内容**:
- 输出遵循中文
- 必要日志与注释
- 自检清单

### 2. `role.mdc` - 角色定位与价值观
**用途**: 明确工作方式与沟通风格  
**阅读时间**: 5分钟  
**核心内容**:
- 角色定位
- 价值观
- 输出风格

### 3. `workflow.mdc` - 工作流程与交付步骤
**用途**: 标准化开发流程  
**阅读时间**: 15分钟  
**核心内容**:
- 需求澄清
- 方案设计
- 实施步骤
- 问题排查

### 4. `coding-standards.mdc` - 跨语言通用编码规范
**用途**: 保障代码质量  
**阅读时间**: 30分钟  
**核心内容**:
- 命名规范
- 函数设计
- 错误处理
- 日志规范

### 5. `quality.mdc` - 质量与自检清单
**用途**: 提交前质量检查  
**阅读时间**: 10分钟  
**核心内容**:
- 代码自检
- 日志规范
- 错误处理
- 交付前清单

### 6. `docs/architecture-lightweight.mdc` - 轻量级架构文档
**用途**: 简化架构设计文档  
**阅读时间**: 20分钟  
**核心内容**:
- 系统概述
- 核心组件
- 数据流
- 部署方案

---

## 技术栈规约（按需1-2个）

### `java.mdc` - Java 专属实践
**使用场景**: Java/Spring Boot 项目  
**推荐章节**: 1-5章（核心规范）  
**阅读时间**: 1小时  
**核心内容**:
- 语言特性与版本策略
- 项目结构规约
- 依赖管理
- 命名与编码规范
- **Lombok 使用规范**（重点）

**快速查找**:
- Lombok 使用: 第5章
- 日志规范: 第8章
- 数据访问: 第16章
- API 设计: 第17章

### `vue.mdc` - Vue 3 专属实践
**使用场景**: Vue 3 前端项目  
**阅读时间**: 45分钟  
**核心内容**:
- Composition API
- TypeScript 集成
- 组件设计
- 状态管理

### `csharp.mdc` - C#/.NET 专属实践
**使用场景**: .NET 项目  
**阅读时间**: 45分钟  
**核心内容**:
- C# 语言特性
- ASP.NET Core
- Entity Framework
- 依赖注入

### `frontend.mdc` - 前端工程规范
**使用场景**: 通用前端项目  
**阅读时间**: 30分钟  
**核心内容**:
- 项目结构
- 组件化
- 样式管理
- 构建优化

---

## 推荐规约（2-3个）

### `testing.mdc` - 测试策略（简化使用）
**推荐章节**: 基础测试部分  
**阅读时间**: 30分钟  
**核心内容**:
- 单元测试
- 集成测试
- 测试覆盖率
- 测试命名

**中小型项目简化建议**:
- 核心业务逻辑必须有单元测试
- 关键 API 必须有集成测试
- 覆盖率目标: 核心模块 >60%
- 跳过过度复杂的测试策略

### `security.mdc` - 安全基线（基础部分）
**推荐章节**: 基础安全部分  
**阅读时间**: 20分钟  
**核心内容**:
- 输入校验
- SQL 注入防护
- 密码存储
- 敏感信息处理

**中小型项目简化建议**:
- 必须: 输入校验、SQL 防注入
- 推荐: 密码加密、敏感信息脱敏
- 可选: 完整的安全审计

### `docs/document.mdc` - 文档体系（README部分）
**推荐章节**: README 与基础文档  
**阅读时间**: 20分钟  
**核心内容**:
- README 结构
- API 文档
- 部署文档
- 变更日志

**中小型项目简化建议**:
- 必须: README + API 文档
- 推荐: 部署文档 + CHANGELOG
- 可选: 详细的架构文档

---

## 可选规约（按需）

### `observability.mdc` - 可观测性（基础监控）
**适用场景**: 需要监控和日志的项目  
**阅读时间**: 30分钟  
**简化建议**:
- 必须: 结构化日志
- 推荐: 基础指标监控
- 可选: 完整的 Trace 链路

### `wechat-mini-program.mdc` - 微信小程序规范
**适用场景**: 微信小程序项目  
**阅读时间**: 30分钟

---

## 不推荐使用（过重）

以下规约适合大型项目，中小型项目不推荐使用：

- ❌ `docs/adr-template.mdc` - 架构决策记录（过于正式）
- ❌ `docs/feature-specification-guidelines.mdc` - 中大型项目功能说明（过于详细）
- ❌ `docs/module-design-guidelines.mdc` - 模块设计文档（简化即可）

---

## 快速启动（Day 1）

### 第一天：了解规范（2-3小时）

#### 上午（1.5小时）
1. **阅读核心规范**（1小时）
   - `must.mdc` (10分钟)
   - `role.mdc` (5分钟)
   - `workflow.mdc` (15分钟)
   - `coding-standards.mdc` (30分钟)

2. **选择技术栈规约**（30分钟）
   - Java 项目: `java.mdc` 第1-5章
   - Vue 项目: `vue.mdc`
   - C# 项目: `csharp.mdc`

#### 下午（1.5小时）
3. **创建项目骨架**（1小时）
   - 初始化项目结构
   - 配置构建工具
   - 创建 README.md

4. **质量检查准备**（30分钟）
   - 阅读 `quality.mdc`
   - 配置代码格式化工具
   - 设置 Git 提交规范

---

## 日常使用指南

### 编码阶段
- **参考规范**: `coding-standards.mdc` + 语言专项规约
- **常见问题**:
  - 命名规范: 查看语言专项第4章
  - 异常处理: 查看语言专项第7章
  - 日志规范: 查看语言专项第8章

### 提交代码前
- **自检清单**: `quality.mdc`
- **检查项目**:
  - [ ] 代码格式化
  - [ ] 命名规范
  - [ ] 注释完整
  - [ ] 日志适度
  - [ ] 测试通过

### 架构设计
- **参考文档**: `docs/architecture-lightweight.mdc`
- **输出内容**:
  - 系统概述（1-2段）
  - 核心组件图（Mermaid）
  - 数据流图
  - 部署方案（简化）

### 遇到问题
- **流程指引**: `workflow.mdc` 第5章（问题排查）
- **排查步骤**:
  1. 复现问题
  2. 定位原因
  3. 修复验证
  4. 记录文档

---

## 按开发阶段使用

### 项目启动阶段（第1周）
**必读**:
- `must.mdc`
- `workflow.mdc`
- `coding-standards.mdc`
- 语言专项（前5章）

**输出**:
- README.md
- 项目骨架
- 开发环境配置

### 核心开发阶段（第2-12周）
**常用**:
- 语言专项规约
- `quality.mdc`
- `testing.mdc`（基础部分）

**输出**:
- 核心功能代码
- 单元测试
- API 文档

### 测试与优化阶段（第13-18周）
**关注**:
- `testing.mdc`
- `security.mdc`
- `observability.mdc`（基础监控）

**输出**:
- 集成测试
- 性能优化
- 安全加固

### 部署与交付阶段（第19-24周）
**重点**:
- `docs/architecture-lightweight.mdc`
- `docs/document.mdc`
- 部署文档

**输出**:
- 部署文档
- 运维手册
- 项目总结

---

## 团队协作建议

### 3人团队
- **角色分工**: 全栈 × 3
- **必读规约**: 核心6个 + 技术栈1-2个
- **协作方式**: 代码审查 + 每日站会

### 5人团队
- **角色分工**: 前端×2 + 后端×2 + 全栈×1
- **必读规约**: 核心6个 + 前后端各自技术栈
- **协作方式**: 代码审查 + 每日站会 + 周会

---

## 常见问题

### Q1: 规约太多，记不住怎么办？
**A**: 不需要全部记住，按需查阅：
- 日常编码: 记住核心规范
- 特定问题: 查阅对应章节
- 提交代码: 使用 `quality.mdc` 自检清单

### Q2: 团队新人如何快速上手？
**A**: 按以下顺序：
1. Day 1: 阅读核心规范（2小时）
2. Day 2-3: 阅读技术栈规约（4小时）
3. Day 4-5: 实际编码 + 代码审查（8小时）

### Q3: 规约与公司规范冲突怎么办？
**A**: 优先级：
1. 公司强制规范
2. 本规约
3. 团队约定
4. 个人习惯

### Q4: 是否需要严格执行所有规约？
**A**: 灵活应用：
- **必须**: 核心规范（must.mdc, coding-standards.mdc）
- **推荐**: 质量规范（quality.mdc, testing.mdc）
- **可选**: 其他规约按项目需要

### Q5: 规约如何与 CI/CD 集成？
**A**: 建议：
- 代码格式化: pre-commit hook
- 单元测试: CI 自动运行
- 代码审查: PR 流程
- 质量检查: SonarQube 等工具

---

## 规约更新策略

### 如何更新规约
1. 发现规约不适用或有问题
2. 在团队内讨论
3. 提出改进方案
4. 更新对应规约文件
5. 记录变更日志

### 更新频率
- **核心规约**: 每季度审查
- **技术栈规约**: 跟随技术栈版本更新
- **项目特定规约**: 按需更新

---

## 附录：规约对照表

| 规约文件 | 适用性 | 阅读时间 | 优先级 |
|---------|--------|----------|--------|
| `must.mdc` | ⭐⭐⭐⭐⭐ | 10分钟 | P0 |
| `role.mdc` | ⭐⭐⭐⭐⭐ | 5分钟 | P0 |
| `workflow.mdc` | ⭐⭐⭐⭐⭐ | 15分钟 | P0 |
| `coding-standards.mdc` | ⭐⭐⭐⭐⭐ | 30分钟 | P0 |
| `quality.mdc` | ⭐⭐⭐⭐⭐ | 10分钟 | P0 |
| `docs/architecture-lightweight.mdc` | ⭐⭐⭐⭐⭐ | 20分钟 | P0 |
| `java.mdc` (1-5章) | ⭐⭐⭐⭐ | 1小时 | P1 |
| `vue.mdc` | ⭐⭐⭐⭐ | 45分钟 | P1 |
| `testing.mdc` (基础) | ⭐⭐⭐⭐ | 30分钟 | P1 |
| `security.mdc` (基础) | ⭐⭐⭐⭐ | 20分钟 | P1 |
| `docs/document.mdc` (README) | ⭐⭐⭐ | 20分钟 | P2 |
| `observability.mdc` (基础) | ⭐⭐⭐ | 30分钟 | P2 |

---

## 相关链接

- [完整规约索引](./README.md) - 查看所有规约文件
- [大型项目指南](./README.md#6-后续可扩展候选) - 大型项目使用建议
- [规约变更日志](./README.md#4-变更策略) - 规约更新记录

---

**维护说明**: 本指南每季度审查更新，确保适用于中小型项目。如有建议，请联系项目维护者。
